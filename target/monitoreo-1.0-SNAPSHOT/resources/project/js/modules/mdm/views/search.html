<div class="col-md-12 col-xs-12 col-lg-12">
    <div class="row">

        <ng-include src="'js/modules/mdm/views/filters.html'"></ng-include>

        <div class="panel panel-default" ng-if="resultCount > 0">
            <div class="panel-tabs">
                <div class="tabs-group">
                    <button class="btn btn-tab btn-lg outline-none" ng-if="ctrl.dataGroupes[t.key]" ng-class="currentSource.key === t.key ? 'active btn-primary' : ''" ng-click="ctrl.selectSource(t)" ng-repeat="t in sources">{[{t.name}]}</button>
                    <!--<button class="btn btn-tab btn-lg outline-none" ng-class="currentSource.key === t.key ? 'active btn-primary' : 'bgColor-white'" ng-click="ctrl.selectSource(t)" ng-repeat="t in sources">{[{t.name}]}</button>-->
                </div>
            </div>
        </div>

        <div class="panel" ng-if="isSearched">
            <div class="panel-heading">
                <div class="col-md-6 col-sm-6 col-xs-6">
                    <p style="margin-bottom:0;">
                        <strong>Resultados</strong>
                    </p>
                </div>
                <div class="col-md-6 col-sm-6 col-xs-6" ng-if="resultCount > 0" >
                    <div class="row" style="margin-top:4px;">
                        <div class="slideCheckbox pull-right" ng-repeat="t in sources" ng-hide="currentSource.key !== t.key">
                            <input type="checkbox" id="slideCheckbox" ng-model="selectAllCheck[currentSource.key]" ng-change="ctrl.selectAll(this)"/>
                            <label for="slideCheckbox"></label>
                        </div>
                    </div>
                </div>

            </div>
            <div class="panel-body">
                <div class="table-responsive" style="overflow-y:auto;" ng-if="resultCount > 0">
                    <table ng-table="personsTableParams" class="table table-striped table-hover table-centered">
                        <tr ng-repeat="item in $data" class="pointer" ng-click="ctrl.select(item)"
                            ng-class="selected[item.id] === true ? 'selected' : ''">
                            <td data-title="'Nombre'" class="smallTd" data-header-class="'smallTd'">{[{item.NOMBRE_C}]}
                                <div class="row text-center" ng-if="selected[item.ID]">
                                    <span class="fa fa-check fa-4x text-primary" aria-hidden="true"></span>
                                </div>
                            </td>
                            <td data-title="'Datos'">
                                <div class="fields col-md-12 col-xs-12 col-lg-12">
                                    <div class="row">
                                        <div class="col-md-12 col-xs-12 col-lg-12">
                                            <div class="field" ng-if="value !== null && ['_id', 'ID', 'NOMBRE', 'NOMBRE_C', 'APE_PAT', 'APE_MAT', 'FEC_NAC_DATE', 'COD_SIST_ORI'].indexOf(key) === -1" ng-repeat="(key, value) in item">
                                                <label>{[{key}]}:</label>
                                                <span>{[{value | mongoDate}]}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </td>
                        </tr>
                    </table>
                </div>

                <div class="col-md-4 col-xs-4 col-lg-4 col-lg-offset-4 col-md-offset-4 col-xs-offset-4 align-center"
                     ng-if="!resultCount || resultCount === 0">
                    <div class="row text-center">
                        <span class="fa fa-exclamation-circle fa-4x text-warning" aria-hidden="true"></span>
                    </div>
                    <div class="row text-center">
                        <p>No se encontraron coincidencias</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="preunified pointer " ng-if="!ctrl.isEmpty(selected)" ng-click="ctrl.preunific()">
    <div class="row text-center">
        <span ng-if="exporting" class="fa fa-spin fa-spinner fa-4x text-primary" aria-hidden="true" uib-tooltip="Unificar"></span>
        <span ng-hide="exporting" class="fa fa-check fa-4x text-primary" aria-hidden="true" uib-tooltip="Unificar"></span>
    </div>
</div>